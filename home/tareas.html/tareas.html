<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tareas</title>
  <link rel="stylesheet" href="tareas.css">
  <link rel="icon" href="../../Assets/icons/Uranus.ico" type="image/x-icon">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <style>
    details {
      margin-bottom: 1em;
    }
    summary {
      font-weight: bold;
      cursor: pointer;
    }
    label {
      display: block;
      margin-left: 1em;
    }
  </style>
</head>
<body>
  <nav class="custom-nav">
    <div class="nav-wrapper">
      <ul class="left-group">
        <li><a href="../../home/home.html"><i class="material-icons">home</i></a></li>
        <li><p class="text_name">Juan Jaime</p><b class="text_info">Admin</b></li>
      </ul>
      <ul class="right-group">
        <li><a href="#"><i class="material-icons">notifications</i></a></li>
      </ul>
    </div>
  </nav>

  <main>
    <h1>Asignación de Tareas</h1>

    <div class="user-search-container">
      <label for="user-search">Asignar a:</label>
      <input type="text" id="user-search" placeholder="Buscar usuario...">
      <div class="user-results" id="user-results"></div>
    </div>

    <!-- Módulo ADMINISTRACIÓN -->
    <section>
      <h2>ADMINISTRACIÓN</h2>
      <details>
        <summary><input type="checkbox"> RH</summary>
        <label><input type="checkbox"> Vacaciones</label>
        <label><input type="checkbox"> Expedientes</label>
        <label><input type="checkbox"> Eventos</label>
      </details>
      <details>
        <summary><input type="checkbox"> TECNOLOGÍA</summary>
        <label><input type="checkbox"> Funeraria</label>
        <label><input type="checkbox"> Desar/JA</label>
        <label><input type="checkbox"> Soporte</label>
      </details>
      <details>
        <summary><input type="checkbox"> JURÍDICO</summary>
        <label><input type="checkbox"> Horno</label>
        <label><input type="checkbox"> Representac</label>
        <label><input type="checkbox"> Doc Legales</label>
      </details>
      <details>
        <summary><input type="checkbox"> FINANZAS</summary>
        <label><input type="checkbox"> Compras</label>
        <label><input type="checkbox"> Fondeois</label>
        <label><input type="checkbox"> P. Prov Gastos</label>
      </details>
    </section>

    <!-- Módulo OPERACIÓN -->
    <section>
      <h2>OPERACIÓN</h2>
      <details>
        <summary><input type="checkbox"> FU</summary>
        <label><input type="checkbox"> PPTO</label>
        <label><input type="checkbox"> DOCUM</label>
        <label><input type="checkbox"> PRECIOS</label>
        <label><input type="checkbox"> SUBIR SF</label>
        <label><input type="checkbox"> SEMAFOROS</label>
      </details>
      <details>
        <summary><input type="checkbox"> UVAF</summary>
        <label><input type="checkbox"> PPTO</label>
        <label><input type="checkbox"> DOCUM</label>
        <label><input type="checkbox"> PRECIOS</label>
        <label><input type="checkbox"> SUBIR SF</label>
        <label><input type="checkbox"> SEMAFOROS</label>
      </details>
      <details>
        <summary><input type="checkbox"> ETHERNUS</summary>
        <label><input type="checkbox"> PPTO</label>
        <label><input type="checkbox"> DOCUM</label>
        <label><input type="checkbox"> PRECIOS</label>
        <label><input type="checkbox"> SUBIR SF</label>
        <label><input type="checkbox"> SEMAFOROS</label>
        <details>
          <summary><input type="checkbox"> 3EROS</summary>
          <label><input type="checkbox"> CDMS</label>
          <label><input type="checkbox"> B2</label>
          <label><input type="checkbox"> FLORES</label>
        </details>
      </details>
      <details>
        <summary><input type="checkbox"> PROCESOS</summary>
        <!-- Añade tareas si hay -->
      </details>
    </section>
  </main>

  <script>
    const users = [
      { id: 'user1', name: 'Usuario 1' },
      { id: 'user2', name: 'Usuario 2' },
      { id: 'user3', name: 'Usuario 3' },
      { id: 'user4', name: 'Eduardo' },
      { id: 'user5', name: 'Edson' },
      { id: 'user6', name: 'Oscar' },
    ];

    document.getElementById('user-search').addEventListener('input', function (e) {
      const searchTerm = e.target.value.toLowerCase();
      const resultsContainer = document.getElementById('user-results');

      if (searchTerm.length === 0) {
        resultsContainer.style.display = 'none';
        return;
      }

      const filteredUsers = users.filter(user =>
        user.name.toLowerCase().includes(searchTerm)
      );

      if (filteredUsers.length > 0) {
        resultsContainer.innerHTML = filteredUsers.map(user => `
          <div class="user-result" data-user="${user.id}">${user.name}</div>
        `).join('');
        resultsContainer.style.display = 'block';

        document.querySelectorAll('.user-result').forEach(item => {
          item.addEventListener('click', function () {
            document.getElementById('user-search').value = this.textContent;
            resultsContainer.style.display = 'none';
          });
        });
      } else {
        resultsContainer.innerHTML = '<div class="user-result">No se encontraron usuarios</div>';
        resultsContainer.style.display = 'block';
      }
    });

    document.addEventListener('click', function (e) {
      if (!e.target.closest('.user-search-container')) {
        document.getElementById('user-results').style.display = 'none';
      }
    });
  </script>
</body>
</html>
